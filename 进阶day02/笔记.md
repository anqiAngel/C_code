# 指针

## 一级指针传参

    void print(int* p, int sz){
        for (int i = 0; i < sz; i++)
        {
            /* code */
            printf("%d ", *(p+i));
        }
        
    }

    int main()
    {
        /* code */
        int arr[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
        int* p = arr;
        int sz = sizeof(arr) / sizeof(arr[0]);
        // p是一级指针
        // 一级指针传参
        print(p,sz);
        return 0;
    }
要考虑的问题2个
1.我们设计函数是什么参数
2.别人设计函数我们传什么参数
一级指针
int* p; 整型指针 指向整型的指针

char* pc; 字符指针 指向字符的指针

void* pv; 无类型的指针

二级指针
char**p;
int**p;

数组指针:指向数组的指针
int(*p) [4]

数组:
一维数组
二维数组
指针数组 存放指针的数组

## 二级指针传参

    void test(int** pr){

        // **pr是a
        printf("%d",**pr);

    }
    int main()
    {
        /* code */
        int arr[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
        int* p = arr;
        int sz = sizeof(arr) / sizeof(arr[0]);
        // p是一级指针
        // 一级指针传参
        print(p,sz);
        int a = 10;
        int* pa = &a;
        // ppa是二级指针
        int** ppa = &p;
        printf("\n");
        test(ppa);
        printf("\n");
        test(&pa); // 传一级指针地址
        int* arr[10] = {0};
        test(arr);
        return 0;
    }

## 函数指针

函数指针:指向函数的指针 存放函数地址的指针

    int Add(int a, int b){
        return a + b;
    }

    int main()
    {
        /* code */
        // 函数指针:指向函数的指针 存放函数地址的指针
        // &函数名 取得的就是函数地址
        // &函数名 = 函数名
        // &数组名 != 数组名
        printf("%p\n",&Add);
        printf("%p\n",Add);
        // 函数指针声明 返回类型 (*函数名)(形参1类型,形参2类型)
        int (*pf)(int, int) = &Add;
        return 0;
    }
函数名是地址函数的地址

---
分析以下代码的含义
(\*(void(\*)())0)();调用地址为0的void fun()型函数
1.void (*)()函数指针类型
2.(void(\*)())0对0进行强制类型转换 转换为void(\*)()类型指向void fun()类型函数
3.(\*(void(\*)())0)()解引用调用函数
void(\*signal(int,void(\*)(int)))(int);
signal先和()结合
1.signal(int,void(*)(int)) 函数名和参数
2.void(*)(int);函数返回值类型
3.void(\*)(int) signal(int,void(\*)(int));是函数的声明语句 
写必须是void(\*signal(int,void(\*)(int)))(int);函数名和*在一起 
对void(\*)(int)重定义typedef void(\*新名)(int)
直接 新名 signal(int,void(\*)(int));
void(\*signal(int,void(\*)(int)))(int) = void (*) signal(int,void(\*)(int)) (但是语法上是不允许的)

## 函数指针数组

函数指针数组 存放函数指针的数组

    int Add(int a,int b){
        return a + b;
    }
    int Sub(int a,int b){
        return a - b;
    }

    int main()
    {
        /* code */
        // 函数指针数组
        int (*arr[2])(int,int) = {Add,Sub};    
        return 0;
    }
